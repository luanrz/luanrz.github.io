<!doctype html><html lang=zh dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>命令备忘录：Linux | luanrz's blog</title><meta name=keywords content="Linux,命令备忘录"><meta name=description content="会话管理——使用screen恢复掉线的shell会话
screen -S myScreen
screen -r myScreen
显示当前目录所占用的磁盘空间
du -h --max-depth=1
访问NFS服务
# ArchLinux下安装nfs-utils，不然没有showmount命令
sudo pacman -S nfs-utils

# 显示指定IP上挂载的卷
showmount -e 192.168.1.105

# 开始挂载
sudo mount -t nfs -o proto=tcp,nolock 192.168.1.105:/volume1/homes homes/
访问SMB服务
# 安装
sudo pacman -S smbclient

# 显示共享目录
smbclient -L 192.168.0.100 -U username%password

# 进入上述共享目录中的directory目录
smbclient //192.168.0.100/directory -U username%password
一键删除所有项目下的target
find . -name target | awk '{print &#34;rm -rf &#34;$1}' | sh"><meta name=author content><link rel=canonical href=https://luanrz.github.io/posts/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95linux/><link crossorigin=anonymous href=/assets/css/stylesheet.5ed58f4ac5cb2b1025742e6161056c468c3232b9bfc72705b7f9f2da355ff7f3.css integrity="sha256-XtWPSsXLKxAldC5hYQVsRowyMrm/xycFt/ny2jVf9/M=" rel="preload stylesheet" as=style><link rel=icon href=https://luanrz.github.io/images/icon.jpg><link rel=icon type=image/png sizes=16x16 href=https://luanrz.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://luanrz.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://luanrz.github.io/apple-touch-icon.png><link rel=mask-icon href=https://luanrz.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://luanrz.github.io/posts/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95linux/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script>const loadScript=(e,t)=>{var n=document.createElement("script");n.onerror=e=>{throw new URIError("The script "+e.target.src+" didn't load correctly.")},t&&(n.onload=t),document.head.insertAdjacentElement("beforeend",n),n.src=e},loadPlantUMLOnNeed=()=>{let e="language-plantuml";document.querySelectorAll("[class^="+e+"]").length>0&&loadScript("https://fastly.jsdelivr.net/gh/jmnote/plantuml-encoder@1.2.4/dist/plantuml-encoder.min.js",()=>{(function(){Array.prototype.forEach.call(document.querySelectorAll("[class^="+e+"]"),function(e){let t=document.createElement("IMG");t.loading="lazy",t.src="http://www.plantuml.com/plantuml/svg/~1"+plantumlEncoder.encode(e.innerText),e.parentNode.insertBefore(t,e),e.style.display="none"})})(),console.log("PlantUML init done")})};window.addEventListener("load",function(){loadPlantUMLOnNeed()})</script><meta property="og:url" content="https://luanrz.github.io/posts/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95linux/"><meta property="og:site_name" content="luanrz's blog"><meta property="og:title" content="命令备忘录：Linux"><meta property="og:description" content="会话管理——使用screen恢复掉线的shell会话 screen -S myScreen
screen -r myScreen
显示当前目录所占用的磁盘空间 du -h --max-depth=1
访问NFS服务 # ArchLinux下安装nfs-utils，不然没有showmount命令 sudo pacman -S nfs-utils # 显示指定IP上挂载的卷 showmount -e 192.168.1.105 # 开始挂载 sudo mount -t nfs -o proto=tcp,nolock 192.168.1.105:/volume1/homes homes/ 访问SMB服务 # 安装 sudo pacman -S smbclient # 显示共享目录 smbclient -L 192.168.0.100 -U username%password # 进入上述共享目录中的directory目录 smbclient //192.168.0.100/directory -U username%password 一键删除所有项目下的target find . -name target | awk '{print &#34;rm -rf &#34;$1}' | sh"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-09T14:15:29+08:00"><meta property="article:modified_time" content="2024-10-09T14:15:29+08:00"><meta property="article:tag" content="Linux"><meta property="article:tag" content="命令备忘录"><meta name=twitter:card content="summary"><meta name=twitter:title content="命令备忘录：Linux"><meta name=twitter:description content="会话管理——使用screen恢复掉线的shell会话
screen -S myScreen
screen -r myScreen
显示当前目录所占用的磁盘空间
du -h --max-depth=1
访问NFS服务
# ArchLinux下安装nfs-utils，不然没有showmount命令
sudo pacman -S nfs-utils

# 显示指定IP上挂载的卷
showmount -e 192.168.1.105

# 开始挂载
sudo mount -t nfs -o proto=tcp,nolock 192.168.1.105:/volume1/homes homes/
访问SMB服务
# 安装
sudo pacman -S smbclient

# 显示共享目录
smbclient -L 192.168.0.100 -U username%password

# 进入上述共享目录中的directory目录
smbclient //192.168.0.100/directory -U username%password
一键删除所有项目下的target
find . -name target | awk '{print &#34;rm -rf &#34;$1}' | sh"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://luanrz.github.io/posts/"},{"@type":"ListItem","position":3,"name":"命令备忘录：Linux","item":"https://luanrz.github.io/posts/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95linux/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"命令备忘录：Linux","name":"命令备忘录：Linux","description":"会话管理——使用screen恢复掉线的shell会话 screen -S myScreen\nscreen -r myScreen\n显示当前目录所占用的磁盘空间 du -h --max-depth=1\n访问NFS服务 # ArchLinux下安装nfs-utils，不然没有showmount命令 sudo pacman -S nfs-utils # 显示指定IP上挂载的卷 showmount -e 192.168.1.105 # 开始挂载 sudo mount -t nfs -o proto=tcp,nolock 192.168.1.105:/volume1/homes homes/ 访问SMB服务 # 安装 sudo pacman -S smbclient # 显示共享目录 smbclient -L 192.168.0.100 -U username%password # 进入上述共享目录中的directory目录 smbclient //192.168.0.100/directory -U username%password 一键删除所有项目下的target find . -name target | awk '{print \u0026quot;rm -rf \u0026quot;$1}' | sh\n","keywords":["Linux","命令备忘录"],"articleBody":"会话管理——使用screen恢复掉线的shell会话 screen -S myScreen\nscreen -r myScreen\n显示当前目录所占用的磁盘空间 du -h --max-depth=1\n访问NFS服务 # ArchLinux下安装nfs-utils，不然没有showmount命令 sudo pacman -S nfs-utils # 显示指定IP上挂载的卷 showmount -e 192.168.1.105 # 开始挂载 sudo mount -t nfs -o proto=tcp,nolock 192.168.1.105:/volume1/homes homes/ 访问SMB服务 # 安装 sudo pacman -S smbclient # 显示共享目录 smbclient -L 192.168.0.100 -U username%password # 进入上述共享目录中的directory目录 smbclient //192.168.0.100/directory -U username%password 一键删除所有项目下的target find . -name target | awk '{print \"rm -rf \"$1}' | sh\n扫描局域网所有IP与端口 nmap -sP 192.168.1.0/24\nnmap -A 192.168.1.100\n压缩与解压 格式 压缩 解压 tar.gz tar czvf test.tgz test/ tar xzvf test.tgz tar.xz tar cJvf test.txz test/ tar xJvf test.txz zip zip -r test.zip test/ unzip test.zip 7z 7z a -t7z test.7z test/ 7z x test.7z rar - unrar x test.rar 含密码的压缩解压：\n格式 压缩 解压 tar (GnuPG) tar czvf - test/ | gpg -co test.tgz.gpg gpg -d test.tgz.gpg | tar xzvf - tar (OpenSSL) tar czvf - test/ | openssl enc -des3 -out test.tgz openssl enc -d -des3 -in test.tgz | tar xzvf - zip zip -r -e test.zip test/ unzip test.zip 7z 7z a -t7z -p test.7z test/ 7z x test.7z 科学上网 科学上网服务端 参见Shadowsocks 一键安装脚本（四合一）。\nwget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.sh chmod +x shadowsocks-all.sh ./shadowsocks-all.sh 2\u003e\u00261 | tee shadowsocks-all.log # 启用防火墙入站规则 sudo ufw allow in 16666 科学上网客户端 sudo pacman -S shadowsocks sudo sslocal -c /etc/shadowsocks/example.json -d start # 编辑/etc/shadowsocks/example.json，与服务端配置保持一致 sudo pacman -S privoxy sudo systemctl start privoxy.service 内网穿透 内网穿透服务端 wget https://github.com/fatedier/frp/releases/download/v0.51.2/frp_0.51.2_linux_amd64.tar.gz tar xvf frp_0.51.2_linux_amd64.tar.gz cd frp_0.51.2_linux_amd64/ vim frps.ini # 编辑内容如下 nohup ./frps -c ./frps.ini \u0026 [common] bind_port = 7000 vhost_http_port = 80 vhost_https_port = 443 dashboard_port= 7500 dashboard_user = frp dashboard_pwd = Passw0rd token = Token001 # 启用防火墙入站规则 sudo ufw allow in 7000 sudo ufw allow in 7500 sudo ufw allow in 80 sudo ufw allow in 443 内网穿透客户端 sudo pacman -S frpc vim /etc/frp/frpc.ini # 编辑内容如下 nohup frpc -c /etc/frp/frpc.ini \u0026 ------------------------------------ [common] server_addr = xxx.xxx.xxx.xxx server_port = 7000 token = Token001 [ssh] type = tcp local_ip = 127.0.0.1 local_port = 22 remote_port = 6000 [web01] type = http local_ip = 127.0.0.1 local_port = 8080 custom_domains = xxx.xxx.xxx.xxx ------------------------------------ xxx.xxx.xxx.xxx为远程服务器的IP\n# 通过服务器的6000端口访问本地ssh ssh luanrz@xxx.xxx.xxx.xxx -p 6000 # 通过服务器的80端口访问本地8080服务 curl http://xxx.xxx.xxx.xxx 使用Mutt收发邮件 配置Mutt：\nvim ~/.config/mutt/muttrc ------------------------------------------------ # COMMON set editor=\"vim\" # IMAP set imap_user=xxxxxx@qq.com set imap_pass=xxxxxxxxxxxxxxxx set folder=imaps://imap.qq.com set spoolfile = +INBOX # SMTP set from=xxxxxx@qq.com set smtp_pass = $imap_pass set smtp_url=smtps://$imap_user@smtp.qq.com set record = ~/.cache/mutt/sent set postponed = ~/.cache/mutt/postponed ------------------------------------------------ 发送邮件：\n# 发送邮件（以下三条命令等效） mutt -s \"主题\" @qq.com \u003c 消息.txt mutt -s \"主题\" yyyyyy@qq.com \u003c\u003c\u003c \"Hello World\" echo \"Hello World\" | mutt -s \"主题\" yyyyyy@qq.com # 发送邮件（携带附件） mutt -s \"主题\" -a 附件.txt -- yyyyyy@qq.com \u003c\u003c\u003c \"Hello World\" # 发送邮件（HTML格式） mutt -s \"主题\" -e \"set content_type=text/html\" yyyyyy@qq.com \u003c\u003c\u003c \"Hello World\" 接受邮件：\n# 进入Mutt主界面查看邮件 mutt 接受邮件时使用W3M渲染HTML：\nvim ~/.config/mutt/mailcap ------------------------------------------------------------ text/html; w3m -I %{charset} -T text/html; copiousoutput; ------------------------------------------------------------ vim ~/.config/mutt/muttrc ------------------------------------------------ # OPTION: Render HTML set mailcap_path = ~/.config/mutt/mailcap auto_view text/html alternative_order text/plain text/html ------------------------------------------------ ","wordCount":"963","inLanguage":"zh","datePublished":"2024-10-09T14:15:29+08:00","dateModified":"2024-10-09T14:15:29+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://luanrz.github.io/posts/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95linux/"},"publisher":{"@type":"Organization","name":"luanrz's blog","logo":{"@type":"ImageObject","url":"https://luanrz.github.io/images/icon.jpg"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://luanrz.github.io/ accesskey=h title="luanrz's blog (Alt + H)">luanrz's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://luanrz.github.io/ title=首页><span>首页</span></a></li><li><a href=https://luanrz.github.io/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://luanrz.github.io/archives/ title=归档><span>归档</span></a></li><li><a href=https://luanrz.github.io/categories/ title=分类><span>分类</span></a></li><li><a href=https://luanrz.github.io/tags/ title=标签><span>标签</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">命令备忘录：Linux</h1><div class=post-meta><span title='2024-10-09 14:15:29 +0800 +0800'>2024-10-09</span>&nbsp;·&nbsp;<span>2 分钟</span>&nbsp;·&nbsp;<span>963 字</span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e4%bc%9a%e8%af%9d%e7%ae%a1%e7%90%86%e4%bd%bf%e7%94%a8screen%e6%81%a2%e5%a4%8d%e6%8e%89%e7%ba%bf%e7%9a%84shell%e4%bc%9a%e8%af%9d aria-label=会话管理——使用screen恢复掉线的shell会话>会话管理——使用<code>screen</code>恢复掉线的shell会话</a></li><li><a href=#%e6%98%be%e7%a4%ba%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e6%89%80%e5%8d%a0%e7%94%a8%e7%9a%84%e7%a3%81%e7%9b%98%e7%a9%ba%e9%97%b4 aria-label=显示当前目录所占用的磁盘空间>显示当前目录所占用的磁盘空间</a></li><li><a href=#%e8%ae%bf%e9%97%aenfs%e6%9c%8d%e5%8a%a1 aria-label=访问NFS服务>访问NFS服务</a></li><li><a href=#%e8%ae%bf%e9%97%aesmb%e6%9c%8d%e5%8a%a1 aria-label=访问SMB服务>访问SMB服务</a></li><li><a href=#%e4%b8%80%e9%94%ae%e5%88%a0%e9%99%a4%e6%89%80%e6%9c%89%e9%a1%b9%e7%9b%ae%e4%b8%8b%e7%9a%84target aria-label=一键删除所有项目下的target>一键删除所有项目下的target</a></li><li><a href=#%e6%89%ab%e6%8f%8f%e5%b1%80%e5%9f%9f%e7%bd%91%e6%89%80%e6%9c%89ip%e4%b8%8e%e7%ab%af%e5%8f%a3 aria-label=扫描局域网所有IP与端口>扫描局域网所有IP与端口</a></li><li><a href=#%e5%8e%8b%e7%bc%a9%e4%b8%8e%e8%a7%a3%e5%8e%8b aria-label=压缩与解压>压缩与解压</a></li><li><a href=#%e7%a7%91%e5%ad%a6%e4%b8%8a%e7%bd%91 aria-label=科学上网>科学上网</a><ul><li><a href=#%e7%a7%91%e5%ad%a6%e4%b8%8a%e7%bd%91%e6%9c%8d%e5%8a%a1%e7%ab%af aria-label=科学上网服务端>科学上网服务端</a></li><li><a href=#%e7%a7%91%e5%ad%a6%e4%b8%8a%e7%bd%91%e5%ae%a2%e6%88%b7%e7%ab%af aria-label=科学上网客户端>科学上网客户端</a></li></ul></li><li><a href=#%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f aria-label=内网穿透>内网穿透</a><ul><li><a href=#%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%e6%9c%8d%e5%8a%a1%e7%ab%af aria-label=内网穿透服务端>内网穿透服务端</a></li><li><a href=#%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f%e5%ae%a2%e6%88%b7%e7%ab%af aria-label=内网穿透客户端>内网穿透客户端</a></li></ul></li><li><a href=#%e4%bd%bf%e7%94%a8mutt%e6%94%b6%e5%8f%91%e9%82%ae%e4%bb%b6 aria-label=使用Mutt收发邮件>使用Mutt收发邮件</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=会话管理使用screen恢复掉线的shell会话>会话管理——使用<code>screen</code>恢复掉线的shell会话<a hidden class=anchor aria-hidden=true href=#会话管理使用screen恢复掉线的shell会话>#</a></h2><p><code>screen -S myScreen</code></p><p><code>screen -r myScreen</code></p><h2 id=显示当前目录所占用的磁盘空间>显示当前目录所占用的磁盘空间<a hidden class=anchor aria-hidden=true href=#显示当前目录所占用的磁盘空间>#</a></h2><p><code>du -h --max-depth=1</code></p><h2 id=访问nfs服务>访问NFS服务<a hidden class=anchor aria-hidden=true href=#访问nfs服务>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># ArchLinux下安装nfs-utils，不然没有showmount命令</span>
</span></span><span style=display:flex><span>sudo pacman -S nfs-utils
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 显示指定IP上挂载的卷</span>
</span></span><span style=display:flex><span>showmount -e 192.168.1.105
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 开始挂载</span>
</span></span><span style=display:flex><span>sudo mount -t nfs -o proto<span style=color:#f92672>=</span>tcp,nolock 192.168.1.105:/volume1/homes homes/
</span></span></code></pre></div><h2 id=访问smb服务>访问SMB服务<a hidden class=anchor aria-hidden=true href=#访问smb服务>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 安装</span>
</span></span><span style=display:flex><span>sudo pacman -S smbclient
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 显示共享目录</span>
</span></span><span style=display:flex><span>smbclient -L 192.168.0.100 -U username%password
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 进入上述共享目录中的directory目录</span>
</span></span><span style=display:flex><span>smbclient //192.168.0.100/directory -U username%password
</span></span></code></pre></div><h2 id=一键删除所有项目下的target>一键删除所有项目下的target<a hidden class=anchor aria-hidden=true href=#一键删除所有项目下的target>#</a></h2><p><code>find . -name target | awk '{print "rm -rf "$1}' | sh</code></p><h2 id=扫描局域网所有ip与端口>扫描局域网所有IP与端口<a hidden class=anchor aria-hidden=true href=#扫描局域网所有ip与端口>#</a></h2><p><code>nmap -sP 192.168.1.0/24</code></p><p><code>nmap -A 192.168.1.100</code></p><h2 id=压缩与解压>压缩与解压<a hidden class=anchor aria-hidden=true href=#压缩与解压>#</a></h2><table><thead><tr><th>格式</th><th>压缩</th><th>解压</th></tr></thead><tbody><tr><td>tar.gz</td><td>tar czvf test.tgz test/</td><td>tar xzvf test.tgz</td></tr><tr><td>tar.xz</td><td>tar cJvf test.txz test/</td><td>tar xJvf test.txz</td></tr><tr><td>zip</td><td>zip -r test.zip test/</td><td>unzip test.zip</td></tr><tr><td>7z</td><td>7z a -t7z test.7z test/</td><td>7z x test.7z</td></tr><tr><td>rar</td><td>-</td><td>unrar x test.rar</td></tr></tbody></table><p>含密码的压缩解压：</p><table><thead><tr><th>格式</th><th>压缩</th><th>解压</th></tr></thead><tbody><tr><td>tar (GnuPG)</td><td>tar czvf - test/ | gpg -co test.tgz.gpg</td><td>gpg -d test.tgz.gpg | tar xzvf -</td></tr><tr><td>tar (OpenSSL)</td><td>tar czvf - test/ | openssl enc -des3 -out test.tgz</td><td>openssl enc -d -des3 -in test.tgz | tar xzvf -</td></tr><tr><td>zip</td><td>zip -r -e test.zip test/</td><td>unzip test.zip</td></tr><tr><td>7z</td><td>7z a -t7z -p test.7z test/</td><td>7z x test.7z</td></tr></tbody></table><h2 id=科学上网>科学上网<a hidden class=anchor aria-hidden=true href=#科学上网>#</a></h2><h3 id=科学上网服务端>科学上网服务端<a hidden class=anchor aria-hidden=true href=#科学上网服务端>#</a></h3><blockquote><p>参见<a href=https://teddysun.com/486.html>Shadowsocks 一键安装脚本（四合一）</a>。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>wget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.sh
</span></span><span style=display:flex><span>chmod +x shadowsocks-all.sh
</span></span><span style=display:flex><span>./shadowsocks-all.sh 2&gt;&amp;<span style=color:#ae81ff>1</span> | tee shadowsocks-all.log
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 启用防火墙入站规则</span>
</span></span><span style=display:flex><span>sudo ufw allow in <span style=color:#ae81ff>16666</span>
</span></span></code></pre></div><h3 id=科学上网客户端>科学上网客户端<a hidden class=anchor aria-hidden=true href=#科学上网客户端>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>sudo pacman -S shadowsocks
</span></span><span style=display:flex><span>sudo sslocal -c /etc/shadowsocks/example.json -d start <span style=color:#75715e># 编辑/etc/shadowsocks/example.json，与服务端配置保持一致</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo pacman -S privoxy
</span></span><span style=display:flex><span>sudo systemctl start privoxy.service
</span></span></code></pre></div><h2 id=内网穿透>内网穿透<a hidden class=anchor aria-hidden=true href=#内网穿透>#</a></h2><h3 id=内网穿透服务端>内网穿透服务端<a hidden class=anchor aria-hidden=true href=#内网穿透服务端>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>wget https://github.com/fatedier/frp/releases/download/v0.51.2/frp_0.51.2_linux_amd64.tar.gz
</span></span><span style=display:flex><span>tar xvf frp_0.51.2_linux_amd64.tar.gz
</span></span><span style=display:flex><span>cd frp_0.51.2_linux_amd64/
</span></span><span style=display:flex><span>vim frps.ini <span style=color:#75715e># 编辑内容如下</span>
</span></span><span style=display:flex><span>nohup ./frps -c ./frps.ini &amp;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[common]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>bind_port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>7000</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>vhost_http_port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>80</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>vhost_https_port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>443</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dashboard_port</span><span style=color:#f92672>=</span> <span style=color:#e6db74>7500</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dashboard_user</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>frp</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dashboard_pwd</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>Passw0rd</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>token</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>Token001</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 启用防火墙入站规则</span>
</span></span><span style=display:flex><span>sudo ufw allow in <span style=color:#ae81ff>7000</span>
</span></span><span style=display:flex><span>sudo ufw allow in <span style=color:#ae81ff>7500</span>
</span></span><span style=display:flex><span>sudo ufw allow in <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>sudo ufw allow in <span style=color:#ae81ff>443</span>
</span></span></code></pre></div><h3 id=内网穿透客户端>内网穿透客户端<a hidden class=anchor aria-hidden=true href=#内网穿透客户端>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>sudo pacman -S frpc
</span></span><span style=display:flex><span>vim /etc/frp/frpc.ini <span style=color:#75715e># 编辑内容如下</span>
</span></span><span style=display:flex><span>nohup frpc -c /etc/frp/frpc.ini &amp;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>------------------------------------</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[common]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>server_addr</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>xxx.xxx.xxx.xxx</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>server_port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>7000</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>token</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>Token001</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[ssh]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>type</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>tcp</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>local_ip</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>127.0.0.1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>local_port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>22</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>remote_port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>6000</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[web01]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>type</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>http</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>local_ip</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>127.0.0.1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>local_port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>8080</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>custom_domains</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>xxx.xxx.xxx.xxx</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>------------------------------------</span>
</span></span></code></pre></div><blockquote><p>xxx.xxx.xxx.xxx为远程服务器的IP</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 通过服务器的6000端口访问本地ssh</span>
</span></span><span style=display:flex><span>ssh luanrz@xxx.xxx.xxx.xxx -p <span style=color:#ae81ff>6000</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 通过服务器的80端口访问本地8080服务</span>
</span></span><span style=display:flex><span>curl http://xxx.xxx.xxx.xxx
</span></span></code></pre></div><h2 id=使用mutt收发邮件>使用Mutt收发邮件<a hidden class=anchor aria-hidden=true href=#使用mutt收发邮件>#</a></h2><p>配置Mutt：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>vim ~/.config/mutt/muttrc
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>------------------------------------------------</span>
</span></span><span style=display:flex><span><span style=color:#75715e># COMMON</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set editor</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;vim&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># IMAP</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set imap_user</span><span style=color:#f92672>=</span><span style=color:#e6db74>xxxxxx@qq.com</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set imap_pass</span><span style=color:#f92672>=</span><span style=color:#e6db74>xxxxxxxxxxxxxxxx</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set folder</span><span style=color:#f92672>=</span><span style=color:#e6db74>imaps://imap.qq.com</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set spoolfile</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>+INBOX</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># SMTP</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set from</span><span style=color:#f92672>=</span><span style=color:#e6db74>xxxxxx@qq.com</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set smtp_pass</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>$imap_pass</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set smtp_url</span><span style=color:#f92672>=</span><span style=color:#e6db74>smtps://$imap_user@smtp.qq.com</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set record</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>~/.cache/mutt/sent</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set postponed</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>~/.cache/mutt/postponed</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>------------------------------------------------</span>
</span></span></code></pre></div><p>发送邮件：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 发送邮件（以下三条命令等效）</span>
</span></span><span style=display:flex><span>mutt -s <span style=color:#e6db74>&#34;主题&#34;</span> @qq.com &lt; 消息.txt
</span></span><span style=display:flex><span>mutt -s <span style=color:#e6db74>&#34;主题&#34;</span> yyyyyy@qq.com <span style=color:#f92672>&lt;&lt;&lt;</span> <span style=color:#e6db74>&#34;Hello World&#34;</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;Hello World&#34;</span> | mutt -s <span style=color:#e6db74>&#34;主题&#34;</span> yyyyyy@qq.com
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 发送邮件（携带附件）</span>
</span></span><span style=display:flex><span>mutt -s <span style=color:#e6db74>&#34;主题&#34;</span> -a 附件.txt -- yyyyyy@qq.com <span style=color:#f92672>&lt;&lt;&lt;</span> <span style=color:#e6db74>&#34;Hello World&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 发送邮件（HTML格式）</span>
</span></span><span style=display:flex><span>mutt -s <span style=color:#e6db74>&#34;主题&#34;</span> -e <span style=color:#e6db74>&#34;set content_type=text/html&#34;</span> yyyyyy@qq.com <span style=color:#f92672>&lt;&lt;&lt;</span> <span style=color:#e6db74>&#34;&lt;h1&gt;Hello World&lt;/h1&gt;&#34;</span>
</span></span></code></pre></div><p>接受邮件：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 进入Mutt主界面查看邮件</span>
</span></span><span style=display:flex><span>mutt
</span></span></code></pre></div><p>接受邮件时使用W3M渲染HTML：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>vim ~/.config/mutt/mailcap
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>------------------------------------------------------------</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>text/html; w3m -I %{charset} -T text/html; copiousoutput;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>------------------------------------------------------------</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>vim ~/.config/mutt/muttrc
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>------------------------------------------------</span>
</span></span><span style=display:flex><span><span style=color:#75715e># OPTION: Render HTML</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set mailcap_path</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>~/.config/mutt/mailcap</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>auto_view text/html</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>alternative_order text/plain text/html</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>------------------------------------------------</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://luanrz.github.io/tags/linux/>Linux</a></li><li><a href=https://luanrz.github.io/tags/%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95/>命令备忘录</a></li></ul><nav class=paginav><a class=prev href=https://luanrz.github.io/posts/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95vim/><span class=title>« 上一页</span><br><span>命令备忘录：Vim</span>
</a><a class=next href=https://luanrz.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9F%A5%E8%AF%86%E5%A4%A7%E7%BA%B2/><span class=title>下一页 »</span><br><span>数据结构知识大纲</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://luanrz.github.io/>luanrz's blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>